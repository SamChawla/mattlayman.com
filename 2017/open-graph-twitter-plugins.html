<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel='stylesheet' href='/screen.css'>
  <link href='http://fonts.googleapis.com/css?family=Cabin:600|Lora:400,700'
    rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <title>Open Graph, Twitter cards, and plugins... Oh My! - mattlayman.com</title>
  <meta name='viewport' content='width=device-width' />
  <meta property="og:type" content="article" />
<meta property="og:url" content="http://www.mattlayman.com/2017/open-graph-twitter-plugins.html" />
<meta property="og:image" content="http://www.mattlayman.com/2017/og.png" />
<meta property="og:title" content="Open Graph, Twitter cards, and plugins... Oh My!" />
<meta property="og:description" content="Social media is a huge part of how people share news with each other on the internet. This post looks into how to make your content appear richer on sites like Facebook and Twitter." />
  <meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mblayman" />
<meta name="twitter:image" content="http://www.mattlayman.com/2017/og.png" />
<meta name="twitter:title" content="Open Graph, Twitter cards, and plugins... Oh My!" />
<meta name="twitter:description" content="Social media is a huge part of how people share news with each other on the internet. This post looks into how to make your content appear richer on sites like Facebook and Twitter." />
  <link rel='alternate' href='/feed.xml' title="Matt Layman's Writings"
    type='atom+xml'>
  <script src="//load.sumome.com/" data-sumo-site-id="bebd12621ec197c6697df2c9248f3a0e593a38b2eae32e10899930dae8668b9a" async="async"></script>
</head>
<body lang='en'>
<div id='container'>
  <h1>Open Graph, Twitter cards, and plugins... Oh My!</h1>
<p class='byline'>By <a href='/'>Matt Layman</a> on February 28, 2017</p>
<p><img class='book' src='og.png'></p>
<p>Facebook recently reported having 1.86 billion monthly active users.
Twitter clocks in at 313 million montly active users.
Like them or not,
social media sites are extremely popular channels
for people to learn about the world around them.
This means that making your content ready
for social media
is a great way to improve people&rsquo;s perception
of your work.</p>
<p>To make your content social media ready,
you need to include some metadata markup
in your HTML
that these sites can discover
when scanning your pages.
Facebook&rsquo;s metadata format is called
<a href="http://ogp.me/">Open Graph</a>
and Twitter describes their metadata as
<a href="https://dev.twitter.com/cards/overview">cards</a>.
<strong>This post will cover Open Graph and Twitter cards
and how I incorporated them
into this site.</strong>
My interest in this subject is as a blogger,
but this metadata can capture a wide variety of content types.</p>
<h2>Open Graph</h2>
<p>The most relevant Open Graph type
for a blog post is an <code>article</code>.
Let&rsquo;s look at the metadata for this post
and break it down.</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">&quot;og:type&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;article&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">&quot;og:url&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;http://www.mattlayman.com/2017/open-graph-twitter-plugins.html&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">&quot;og:image&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;http://www.mattlayman.com/2017/og.png&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">&quot;og:title&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;Open Graph, Twitter cards, and plugins... Oh My!&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">&quot;og:description&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;Social media is a huge part of how people share news with each</span>
<span class="s">           other on the internet. This post looks into how to make your</span>
<span class="s">           content appear richer on sites like Facebook and Twitter.&quot;</span> <span class="p">/&gt;</span>
</pre></div>


<p>All of these meta tags are added to the <code>head</code> portion
of the HTML document.
Open Graph defines tags that must be set on any type
of Open Graph content.
Those are <code>og:type</code>, <code>og:url</code>, <code>og:image</code>, and <code>og:title</code>.
I chose to add the optional <code>og:description</code>
because each of my posts include a summary
that naturally fit in the description field.
An article can include additional information,
but this minimum amount will provide a full looking styling
when your content shows
on Facebook.</p>
<h2>Twitter cards</h2>
<p>Twitter cards aren&rsquo;t nearly so granular
as Open Graph content.
For a Twitter card,
the <code>summary</code> type is a good fit
for a blog post.</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;twitter:card&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;summary&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;twitter:site&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;@mblayman&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;twitter:image&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;http://www.mattlayman.com/2017/og.png&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;twitter:title&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;Open Graph, Twitter cards, and plugins... Oh My!&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;twitter:description&quot;</span>
  <span class="na">content</span><span class="o">=</span><span class="s">&quot;Social media is a huge part of how people share news with each</span>
<span class="s">           other on the internet. This post looks into how to make your</span>
<span class="s">           content appear richer on sites like Facebook and Twitter.&quot;</span> <span class="p">/&gt;</span>
</pre></div>


<p>Like its Open Graph brethren,
Twitter card meta tags are placed
in the <code>head</code> section.
You can see immediately
there is a striking similarity
between Open Graph and Twitter cards
when you have content
like a blog post.
The only noticable differences are
the absence of a <code>url</code> for Twitter cards
and a <code>twitter:site</code> property
in its place.</p>
<h2>Plugins</h2>
<p>Neither of these types of metadata
are difficult to add to a page,
especially if you&rsquo;re writing HTML by hand.
But I&rsquo;m not writing my HTML by hand.
Instead,
I use
<a href="http://handroll.readthedocs.io/en/latest/">handroll</a>,
a static site generator
that I developed
because I wanted to see if I could.</p>
<p>handroll reads my posts
from Markdown files
and generates HTML with templates.
I don&rsquo;t have the opportunity
to fiddle directly with the tags that appear
in the <code>head</code> section.</p>
<p>One of my goals with handroll
was to include a robust plugin system
that would permit me to extend my site
with functionality that I wanted
while avoiding functionality
that I had no need for.
This system enabled me
to integrate Open Graph and Twitter cards.</p>
<p>handroll <a href="http://handroll.readthedocs.io/en/latest/extensions.html">extensions</a>
operate on well defined signals
that are invoked
at various stages
of producing the output
of the site.
Knowing that these extension points exist,
I was able to write two plugins.
These plugins work by reacting
to any blog post that changes.
When a post changes,
the plugin processes
<a href="http://handroll.readthedocs.io/en/latest/configuration.html#front-matter">frontmatter</a>,
scans for attributes that can populate the meta tags,
and injects the tags
into context
that is used
during template rendering.
In my base template,
my only addition was the following:</p>
<div class="codehilite"><pre><span></span><span class="x">  </span><span class="cp">{{</span> <span class="nv">open_graph_metadata</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">twitter_metadata</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>


<p>I quite enjoyed this process for a couple of reasons:</p>
<ol>
<li>It feels great to make my content richer
   so that it is easier to share
   and presents better when shared.</li>
<li>I was very satisfied
   with how quickly I could develop the extensions.
   Having well defined interfaces
   that behave consistently
   can make quick work of a task.</li>
</ol>
<p>You can see an example of one of the extensions
by checking out the Open Graph
<a href="https://github.com/handroll/handroll/blob/master/handroll/extensions/og.py">code</a>
on GitHub.</p>
<p>If you want to chat about this with me, I'm
  <a href="https://twitter.com/mblayman">@mblayman</a> on Twitter.</p>

<br>

<h2>Matt Layman</h2>

<div id='me-wrapper'>
<img id='me' src='/photo.jpg' width='120' height='120'>
</div>

<p>
  Matt is the lead software engineer at
  <a href="https://storybird.com" target="_blank">Storybird</a>.
</p>
<p>
  Always eager to talk about Python
  and other technology topics,
  Matt organizes
  <a href="https://www.meetup.com/python-frederick/" target="_blank">Python Frederick</a>
  in Frederick, Maryland (NW of Washington D.C.)
  and seeks to grow software skills
  for people in his community.
</p>
  <br>
  <footer>
    <p><img alt='Creative Commons Attribution 4.0 International License'
      src='/cc.png' width='80' height='15'> <a href='/'> Matt Layman</a>,
      2017</p>
  </footer>
</div>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-93541554-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html><!-- handrolled for excellence -->
