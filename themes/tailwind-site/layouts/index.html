{{ define "main" }}
<div class="bg-cover bg-center h-48 sm:h-56 sm:rounded-lg -mx-4 -mt-4 mb-4 sm:m-0 sm:mb-4" style="background-image: url({{ .Site.Params.cover | absURL }})">
  <h1 class="text-center text-white text-4xl font-semibold tracking-wide pt-8 sm:pt-4">{{ .Title }}</h1>
  <h2 class="text-center text-white text-xl font-thin px-1">{{ .Site.Params.subtitle }}</h2>
</div>

<div class="bg-white rounded-full mx-auto -mt-20 sm:-mt-32 mb-2 p-1 h-32 w-32 shadow-xl">
  <img src="{{ .Site.Params.authorAvatar | absURL }}" class="rounded-full">
</div>

{{ $paginator := .Paginate (where .Data.Pages.ByDate.Reverse "Type" "post") }}
<div class="articles-grid">
  {{ range $index, $post := $paginator.Pages }}
    <div class="article-{{ add $index 1 }}">
      {{ partial "article-card" (dict "context" . "index" $index) }}
    </div>
  {{ end }}
</div>
<nav class="relative text-center text-gray-400 text-sm my-4 py-4 w-full">
  {{ if .Paginator.HasPrev }}
    <a class="absolute left-0 hover:text-gray-800 hover:underline" href="{{ .Paginator.Prev.URL }}">&larr; Next Articles</a>
  {{ end }}
  <span class="hidden sm:inline">Page {{ .Paginator.PageNumber }} of {{ .Paginator.TotalPages }}</span>
  {{ if .Paginator.HasNext }}
    <a class="absolute right-0 hover:text-gray-800 hover:underline" href="{{ .Paginator.Next.URL }}">Previous Articles &rarr;</a>
  {{ end }}
</nav>
{{ end }}
